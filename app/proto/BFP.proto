syntax = "proto2";

enum Priority {
    PRIORITY_LOW = 0;      // Background operations, logging
    PRIORITY_NORMAL = 1;   // Standard sensor data, user input
    PRIORITY_HIGH = 2;     // System state changes, errors
    PRIORITY_CRITICAL = 3; // Safety-critical events, emergencies
}

enum EventType {
    EVENT_TYPE_UNKNOWN = 0;

    // Sensor events
    EVENT_TYPE_EXG_DATA = 1;
    // User interaction events
//    EVENT_TYPE_BUTTON_PRESS = 10;
//    EVENT_TYPE_BUTTON_RELEASE = 11;
//
    // System events
//    EVENT_TYPE_SYSTEM_STARTUP = 20;
//    EVENT_TYPE_SYSTEM_SHUTDOWN = 21;

}

message ExGDataEvent {
    optional bytes readings = 1;
    optional uint32 status = 2;
}

message TempDataEvent {
    optional uint32 temperature = 1;
}


message BaseEvent {
    optional uint64 timestamp_us = 1;        // Microsecond timestamp from system boot
    optional EventType event_type = 2;       // Event classification enum
    optional Priority priority = 3;          // Event priority level

    reserved 4 to 10;

    oneof event_data {
        ExGDataEvent exg_data_event = 11;
        TempDataEvent temp_data_event = 12;
    }
}
